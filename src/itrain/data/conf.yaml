# engine config file
common:
  job_name: "vivo-mnist"
  job_desc: "just a demo project config"
  save_root: "/data01/dingzhifeng/dwork/gitlab/mnist/data"
  mode: "train" # ["train", "test"]
  gpu_idx: [[0, 1]]
  backend: "sgpu" # ["ddp", "dp", "sgpu"]
  seed: 0
  cuda_deterministic: true
  ddp:
    find_unused_parameters: true
    use_spawn: false
  max_epoch: 2
  verbose_interval: 5
  ckpt_path: None
  checkpoint:
    save_each_iter: ~
    save_maxs: 50
    watch_value: ~
    best_type: 'max'

vtraining:
  enable: false
  filePathIgnores: [".git"]
  restartPolicy: Never
  cpu: 8
  memory: 30Gi
  business: share
  nodes:
    vivo.com/machine-type: V100
  image: ai-registry.vivo.xyz/romai_dev/dmodels:v4.2
  dataPaths:
    - /data/juicefs_hz_cv_v3/11110558
  pre_cmd: [
    "pip install https://gitlab.vmic.xyz/cv_rec/vvf-release/raw/master/vvf-2.0.0.tar.gz"
    ]

